@using Pantrymo.Client.Pages
@inherits LayoutComponentBase

<div class="page">

	@if (Initialized)
	{
		<div class="sidebar">
			<NavMenu />
		</div>

		<main>
			<div class="top-row px-4">
				<a href="https://docs.microsoft.com/aspnet/" target="_blank">About</a>
			</div>

			<article class="content px-4">
				@Body
			</article>
		</main>
	}
	else
	{
		<StartupPanel StartupFinished="OnStartupFinished" />
	}
</div>

@code 
{
	bool Initialized=false;

	protected override Task OnInitializedAsync()
	{
		return base.OnInitializedAsync();
	}

	void OnStartupFinished()
	{
		Initialized = true;
	}
}